# Border Gateway Protocol

Во-первых, [[OSPF]] жирный, во-вторых, выдаёт слишком много информации об устройстве внутренней сети во внешний мир

## Autonomous system
(AS)

* Снаружи - единый кусок сети, в который доставляем сообщения
* Внутри - кусок сети, который сам разберётся, как доставить пакеты
* Имеют 16-битный номер автономной системы (выдаёт IANA)
	* Еще есть 16-битный номер community. Что он значит - договаривайтесь сами

## Формирование связей

* В каждой AS есть набор префиксов [[IP address|IP адресов]], которые доступны непосредственно в ней
* Эту информацию она распространяет соседним AS
	* Далее они будут рассказывать своим соседям *весь путь* до данных префиксов, начиная с себя, заканчивая узлом, который им владеет
	* Храним информацию о всех путях
		* Так мы, например, можем обнаруживать циклы с собой, в отличие от ориентриованного [[RIP]] или [[OSPF]]

## Выбор путя
1. Путь через узлы, которым локально отдаётся предпочтение
	* Например, какие-то из них дешевле, чем другие или мы верим, что они быстрее или просто он нам нравится
2. Маршрут с наименьшим числом AS на пути