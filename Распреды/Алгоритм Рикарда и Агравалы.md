# Алгоритм Рикарда и Агравалы

Алгоритм [[Взаимное исключение|взаимного исключения]]. По сути, оптимизация [[Алгоритм Лампорта (mutex)|алгоритма Лампорта]]

* Два типа сообщений (всего $2N - 2$ сообщений на КС):ъ
	* req (от запрашивающего процесса всем другим)
	* ok (после выхода из КС)
* Здесь объединены _ok_ и _rel_ из [[Алгоритм Лампорта (mutex)|алгоритма Лампорта]].  Шлём _ok_ только если сами не хотим войти в КС или наш запрос имеет более поздний номер очереди
* Единственный критерий входа в КС:
	* Собрано $N - 1$ _ok_'ов

![[Pasted image 20220403025300.png]]

![[Pasted image 20220403025327.png]]