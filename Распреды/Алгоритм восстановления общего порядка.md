# Алгоритм восстановления общего порядка

## Централизованный алгоритм

Очень классный, используем только так

* Только для случая, когда одно сообщение идёт многим получателям 
* Выберем координатора для рассылки сообщений
	* Требует [[FIFO  сообщения|FIFO каналов]]

![[Pasted image 20220221182214.png]]

## Алгоритм Лампорта для общего порядка

* Эти ваши broadcast'ы похожи на лок
	* Обобщаем алгоритм взаимной блокировки Лампорта
	* Ведём логические часы, "билетик" задаёт порядок обработки сообщений
* Требует [[FIFO  сообщения]], надо посылать сообщение всем (даже в случае multicast)

![[Pasted image 20220221182604.png]]

## Алгоритм Скина

Оптимизация алгоритма Лампорта
* Номер билета вычисляется только при получении подтверждения
* Можно слать не всем, а подмножеству процессов, и всё будет ок
* Не требует [[FIFO  сообщения|FIFO]]

![[Pasted image 20220221182634.png]]